# Dispatchr

## Stage 0 ‚Äî Core Dispatch Engine

### ‚úÖ –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

- –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—É —Å—ñ—Ç–∫—É –º—ñ—Å—Ç–∞ (0‚Äì100 –ø–æ X —Ç–∞ Y)
- –°—Ç–≤–æ—Ä–µ–Ω–æ –º–æ–¥–µ–ª—å `Courier`
  - id
  - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ (x, y)
  - —Å—Ç–∞—Ç—É—Å: `idle | delivering`
  - –∞–∫—Ç–∏–≤–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –°—Ç–≤–æ—Ä–µ–Ω–æ –º–æ–¥–µ–ª—å `Order`
  - id
  - pickup –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏
  - dropoff –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏
  - —Å—Ç–∞—Ç—É—Å: `pending | assigned | completed`
- –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ `DispatchSystem`
  - –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –≤ –ø–∞–º º—è—Ç—ñ
  - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–æ–∑–ø–æ–¥—ñ–ª—É:
  - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Manhattan distance
  - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –Ω–∞–π–±–ª–∏–∂—á–æ–º—É –≤—ñ–ª—å–Ω–æ–º—É –∫—É—Ä º—î—Ä—É

–§–æ—Ä–º—É–ª–∞ –≤—ñ–¥—Å—Ç–∞–Ω—ñ:

|x1 - x2| + |y1 - y2|

---

### ‚ñ∂ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞

1. –î–æ–¥–∞—Ç–∏ –∫—É—Ä º—î—Ä—ñ–≤:

```js
system.addCourier(new Courier(1, 10, 10));
system.addCourier(new Courier(2, 50, 50));
```

2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:

```js
const order = new Order(101, { x: 12, y: 9 }, { x: 80, y: 80 });
system.createOrder(order);
```

3. –ó–∞–ø—É—Å–∫:

```
node src/index.js
```

### ‚úî –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –æ—Ç—Ä–∏–º—É—î —Å—Ç–∞—Ç—É—Å `assigned`
- –ù–∞–π–±–ª–∏–∂—á–∏–π –∫—É—Ä º—î—Ä –∑–º—ñ–Ω—é—î —Å—Ç–∞—Ç—É—Å –Ω–∞ `delivering`
- –í–∏–≤—ñ–¥ —É –∫–æ–Ω—Å–æ–ª—ñ –ø–æ–∫–∞–∑—É—î –æ–Ω–æ–≤–ª–µ–Ω–∏–π —Å—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏

```
DispatchSystem {
  couriers: [
    Courier {
      id: 1,
      x: 10,
      y: 10,
      status: 'delivering',
      currentOrderId: 101
    },
    Courier {
      id: 2,
      x: 50,
      y: 50,
      status: 'idle',
      currentOrderId: null
    }
  ],
  orders: [
    Order {
      id: 101,
      pickup: [Object],
      dropoff: [Object],
      status: 'assigned',
      assignedCourierId: 1
    }
  ]
}
```

---

Stage 0 –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –õ–æ–≥—ñ–∫–∞ —è–¥—Ä–∞ –ø—Ä–∞—Ü—é—î.

---

## Stage 1 ‚Äî Basic MVP

### üéØ –ú–µ—Ç–∞

–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–æ–±–æ—á–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–π–±–ª–∏–∂—á–æ–º—É –≤—ñ–ª—å–Ω–æ–º—É –∫—É—Ä º—î—Ä—É –∑ unit-—Ç–µ—Å—Ç–∞–º–∏.

---

### ‚úÖ –í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ

**–°–ø–∏—Å–æ–∫ –∫—É—Ä º—î—Ä—ñ–≤:**

- id
- —Å—Ç–∞—Ç—É—Å (`Free` / `Busy`)
- –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ (x, y)

**–ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:**

- id
- –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—É (x, y)

---

### ‚öô –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞

1. –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∫—É—Ä º—î—Ä—ñ–≤ –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º `Free`
2. –û–±—á–∏—Å–ª–µ–Ω–Ω—è Manhattan distance –¥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—É
3. –ü–æ—à—É–∫ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –∫—É—Ä º—î—Ä–∞
4. –ó–º—ñ–Ω–∞ —Å—Ç–∞—Ç—É—Å—É –∫—É—Ä º—î—Ä–∞ –Ω–∞ `Busy`
5. –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON

–Ø–∫—â–æ –≤—ñ–ª—å–Ω–∏—Ö –∫—É—Ä º—î—Ä—ñ–≤ –Ω–µ–º–∞—î ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è:

```

{ "status": "No couriers available" }

```

---

### üì¶ –ü–æ–≤–µ—Ä—Ç–∞—î–º–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—É—Å–ø—ñ—à–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è)

```json
{
  "status": "Assigned",
  "orderId": 101,
  "courierId": 1,
  "distance": 3
}
```

---

### üß™ Unit Tests

–î–æ–¥–∞–Ω–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Jest.

–ü–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è —Å—Ü–µ–Ω–∞—Ä—ñ—ó:

- ‚úî –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –∫—É—Ä º—î—Ä–∞
- ‚úî –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤—ñ–ª—å–Ω–∏—Ö –∫—É—Ä º—î—Ä—ñ–≤

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤:

```
npm test
```

---

Stage 1 –∑–∞–≤–µ—Ä—à–µ–Ω–æ.
MVP –ª–æ–≥—ñ–∫–∞ —ñ–∑ —Ç–µ—Å—Ç–∞–º–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞.
